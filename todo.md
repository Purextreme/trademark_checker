> 💡需要特别注意的是，这个文件是用户的需求文档，因此对于AI而言，你不能修改这个文件，你只能根据这个文件编写代码

# 程序模块

1. app_streamlit.py 是主程序，负责启动浏览器，并调用其他模块
2. validate_name.py 是名称验证模块，负责验证用户输入的名称是否合法
3. main_checker.py 是主查询模块，负责查询商标信息
4. tmdn_name_checker.py 是tmdn欧盟商标系统查询模块
5. uk_checker.py 是英国商标系统查询模块
6. us_checker.py 是美国商标系统查询模块
7. todo.md 是用户编写的需求文档，你需要根据需求文档编写代码
8. checked_name.csv 是本地数据库，用于记录已经查询过的名称
注意：如果用户只查美国，那么只用调用 tmdn、us，如果只查英国只用调用 tmdn、uk，如果只查欧盟，只用调用 tmdn，这里面只有tmdn 支持多国别查，用户可以同时选择多个选项，例如用户可以选择“美国”“欧洲”，商标类别选择“14”“20”
注意：这个程序主要为1个人使用，无需复杂的逻辑，只需要简单的查询功能，因此不需要考虑并发问题，也不需要考虑性能问题，只需要考虑查询功能是否正常即可

# 程序逻辑

1. app_streamlit.py 启动一个前端界面，查询区域多个复选框，分别是“美国”“英国”“欧盟”三个选项，商标类别则有“14”“20”“21”三个选项，都是复选，也就是说用户可以同时选择多个选项，例如用户可以选择“美国”“欧洲”，商标类别选择“14”“20”
2. 用户输入名称，点击查询按钮，每次最多可以查询100个名称，避免查的太久
3. validate_name.py 验证名称是否合法，用户输入的只能是1个单词，在验证前需要去除前后的空格（若有的话），不能输入符号或者多个单词，例如#￥%&*等，如果用户输入了不合法的名称，则需要提示用户输入的名称不合法
4. main_checker.py 调用查询模块查询商标信息，并需要对结果进行分类，例如是否查询到结果，或者结果属于哪种情况（参见查询结果分类），查询的顺序是先进行checked_name.csv 本地查询，如果本地查询到结果，则返回“以下名称之前已经查询过啦",本地查询需要全字匹配，如果未查询到结果，则继续查询其它系统，如果查询到完全匹配，则返回“存在完全匹配”分类
5. 对于多个查询，例如用户同时选择了“美国”“英国”“欧盟”，则按顺序，依次 tdmn-us-uk来查，因为uk的查询最慢，所以放到最后，只要前面的查询到匹配，就不用查了，直接告诉用户查到匹配了
6. tmdn_name_checker.py 查询tmdn欧盟商标系统注册信息，是否存在和用户相同的注册名称
7. us_checker.py 查询美国商标系统注册信息，是否存在和用户相同的注册名称
8. uk_checker.py 查询英国商标系统注册信息，是否存在和用户相同的注册名称

# 查询顺序

单选区域情况：
只选美国：TMDN（美国）-> US
只选英国：TMDN（英国）-> UK
只选欧盟：TMDN（欧盟）
多选区域情况：
美国+英国：TMDN（美国+英国）-> US -> UK
美国+欧盟：TMDN（美国+欧盟）-> US
英国+欧盟：TMDN（英国+欧盟）-> UK
美国+英国+欧盟：TMDN（美国+英国+欧盟）-> US -> UK
查询顺序：TMDN -> US -> UK
找到匹配就停止

# 匹配规则

1. 本地匹配：本地数据库中每一行都进行全字匹配以确定是否存在相同的名称，需要注意的是，CSV中包含三个类别，分别是"使用词汇","风险国家","类别",风险国家类别可以忽略，但是需要注意类别的匹配，例如用户输入的是“apple",查询类别为14，但是本地数据库中查询到的是“apple”，类别为20，则匹配失败，如果查询到的是“apple”，类别为14，则匹配成功，只考虑同类别情况
2. tmdn匹配：对tmdn找到的名称进行匹配，但是以单词为单位匹配，例如，如果用户输入的是“apple”，tmdn找到的名称是“apple pie”或“apple”，都算匹配成功，如果找到的是 appled，算匹配失败，因为它们从单词上不匹配
3. 美国和英国查询匹配：规则和tmdn匹配规则相同
4. 按 本地匹配 -> 联网查询 的顺序进行匹配，如果匹配成功，则停止匹配，如果匹配失败，则继续进行下一个匹配
5. 如果某个单词在查询中出错，则该名称的查询结果为“查询出错”类别

# 查询结果分类

1. 😊 以下名称之前已经查询过啦：在本地数据库中找到完全相同的名称
2. ❌ 存在完全匹配：名称已被注册，建议选择其他名称
3. ✅ 未查询到匹配结果：该名称可能可用
4. ❗ 查询出错：查询过程中出现错误